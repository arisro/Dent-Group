<div class="row">
  <div class="col-sm-12 news-categories-box" ng-controller="HomepageMessagesCategoriesController">
    <h2 class="h1 top-zero"><%= t('hmessages.manage_categories') %></h2>
    <br/>
    <form role="form" class="form-inline">
      <div class="form-group">
        <label for="categoryName" ng-show="selectedCategory.id"><%= t('edit') %> {{ selectedCategory.oldIdent }}:</label>
        <label for="categoryName" ng-hide="selectedCategory.id"><%= t('hmessages.add_new_category') %>:</label>
        <input id="categoryName" class="form-control string required" value="{{ selectedCategory.ident }}" ng-model="selectedCategory.ident" />
      </div>
      <button class="btn btn-green btn-sm" ng-click="saveCategory(selectedCategory)"><%= t('save') %></button>
      <button ng-show="selectedCategory.id" class="btn btn-warning btn-sm" ng-click="cancelEdit()"><%= t('cancel') %></button>
    </form>
    <br/>
    <h3><%= t('hmessages.categories') %></h3>
    <table class="table table-striped table-condensed ">
      <thead>
        <tr><th><%= t('hmessages.name') %></th><th><%= t('hmessages.messages_count') %></th><th></th></tr>
      </thead>
      <tbody>
      <tr ng-repeat="category in categories">
        <td>{{ category.ident }}</td>
        <td>{{ category.msgs_count }}</td>
        <td>
          <a class="btn btn-primary btn-sm" href="#" ng-click="editCategory(category)"><%= t('edit') %></a>
          <a class="btn btn-danger btn-sm" href="#" ng-click="deleteCategory(category)"><%= t('delete') %></a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
